---
title: 循环与迭代
author: loloya
tags:
  - javascript
categories:
  - javascript
description: 了解各种循环的差异, 更好的使用它.
date: 2021-07-24
---

## 简介

处理集合中的每个项是很常见的操作。 `JavaScript` 提供了许多迭代集合的方法，从简单的 `for` 循环到 `map()` , `filter()` 。迭代器和生成器将迭代的概念直接带入核心语言，并提供了一种机制来自定义 `for...of` 循环的行为。

### 常见的几种循环

- for
- for in
- for of
- for await...of
- while
- do while

### 学习目标

- 了解循环差异
- 合理使用循环

### 理论性能

在相对公平的情况下测试, 彼此的性能: `for > forEach > map`

在如今的算力情况下, 如果达不到百万级别的数据量.所带来的性能差异可以忽略不记的.
所以本次测试 数组长度为一百万(1e7),以下是测试代码, 可以直接在在控制台查看一下输出结果.

```js
function _for(arr) {
  for (let i = 0; i < arr.length; i++) {}
}

function _forEach(arr) {
  arr.forEach((item, index, arr) => {});
}

function _map(arr) {
  arr.map((item, index, arr) => {});
}

function PerformanceTesting(handle, param) {
  let name = handle.name;
  let arrList = new Array(1e7).fill(param);
  console.time(name);
  handle(arrList);
  console.timeEnd(name);
}
```

<details>
<summary>result</summary>

```js
PerformanceTesting(_for, "string");
PerformanceTesting(_forEach, "string");
PerformanceTesting(_map, "string");
// _for: 9.9638671875 ms
// _forEach: 81.2490234375 ms
// _map: 138.60400390625 ms

PerformanceTesting(_for, 1);
PerformanceTesting(_forEach, 1);
PerformanceTesting(_map, 1);
// _for: 10.028076171875 ms
// _forEach: 81.490966796875 ms
// _map: 122.913330078125 ms

PerformanceTesting(_for, { number: 1, state: true, string: "a" });
PerformanceTesting(_forEach, { number: 1, state: true, string: "a" });
PerformanceTesting(_map, { number: 1, state: true, string: "a" });
// _for: 11.390869140625 ms
// _forEach: 82.233154296875 ms
// _map: 135.927001953125 ms
```

</details>

但是并不意味着我们需要
